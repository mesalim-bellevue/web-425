<!--
  Developer: Meher Salim
  Filename: create-guild.component.html
  Date: 08/23/2024
-->

<form [formGroup]="guildForm" (ngSubmit)="onSubmit()">
  <!-- Guild Name -->
  <label for="guildName">Guild Name</label>
  <input id="guildName" formControlName="guildName" type="text">
  <div *ngIf="guildForm.get('guildName')?.invalid && guildForm.get('guildName')?.touched">
    Guild Name is required.
  </div>

  <!-- Description -->
  <label for="description">Description</label>
  <textarea id="description" formControlName="description"></textarea>
  <div *ngIf="guildForm.get('description')?.invalid && guildForm.get('description')?.touched">
    Description is required.
  </div>

  <!-- Type (Select Menu) -->
  <label for="type">Guild Type</label>
  <select id="type" formControlName="type">
    <option *ngFor="let t of types" [value]="t">{{ t }}</option>
  </select>
  <div *ngIf="guildForm.get('type')?.invalid && guildForm.get('type')?.touched">
    Please select a guild type.
  </div>

  <!-- Accept Terms (Checkbox) -->
  <label>
    <input type="checkbox" formControlName="acceptTerms"> Accept Terms
  </label>
  <div *ngIf="guildForm.get('acceptTerms')?.invalid && guildForm.get('acceptTerms')?.touched">
    You must accept the terms.
  </div>

  <!-- Notification Preference (Radio Buttons) -->
  <label>Notification Preference</label>
  <label><input type="radio" formControlName="notificationPreference" value="Email"> Email</label>
  <label><input type="radio" formControlName="notificationPreference" value="SMS"> SMS</label>
  <label><input type="radio" formControlName="notificationPreference" value="In-App"> In-App</label>
  <div *ngIf="guildForm.get('notificationPreference')?.invalid && guildForm.get('notificationPreference')?.touched">
    Please select a notification preference.
  </div>

  <!-- Submit Button -->
  <button type="submit" [disabled]="guildForm.invalid">Create Guild</button>
</form>

<!-- Display the created guilds -->
<app-guild-list [guilds]="guilds"></app-guild-list>